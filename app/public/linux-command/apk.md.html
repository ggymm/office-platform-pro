<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>apk.md.html</title>
  <style>code{white-space: pre;}</style>
</head>
<body>
<div id="wrapper">  
<h1 id="apk">apk</h1>
<p>Alpine Linux 下的包管理工具</p>
<h2 id="使用实例">使用实例</h2>
<pre class="shell"><code>apk install xxx
apk search xxx # 支持正则
apk info xxx # 查看包的详细信息
apk show # list local package
# 卸载并删除 包
apk del openssh openntp vim</code></pre>
<h3 id="升级">升级</h3>
<p>upgrade命令升级系统已安装的所以软件包（一般包括内核），当然也可指定仅升级部分软件包（通过-u或–upgrade选择指定）。</p>
<pre class="shell"><code>apk update # 更新最新本地镜像源
apk upgrade # 升级软件
apk add --upgrade busybox # 指定升级部分软件包</code></pre>
<h3 id="搜索">搜索</h3>
<pre class="shell"><code>apk search # 查找所以可用软件包
apk search -v # 查找所以可用软件包及其描述内容
apk search -v &#39;acf*&#39; # 通过软件包名称查找软件包
apk search -v -d &#39;docker&#39; # 通过描述文件查找特定的软件包</code></pre>
<h3 id="查看包信息">查看包信息</h3>
<p>info命令用于显示软件包的信息。</p>
<pre class="shell"><code>apk info # 列出所有已安装的软件包
apk info -a zlib # 显示完整的软件包信息
apk info --who-owns /sbin/lbu # 显示指定文件属于的包</code></pre>
<h2 id="笔记">笔记</h2>
<p>还是蛮喜欢 alpine 的，简单纯粹</p>
<pre class="shell"><code>apk add iproute2 # ss vs netstat
ss -ptl
apk add drill # drill vs nslookup&amp;dig

crond # 开启 cron 服务
crontab -l -e

apk add xxx
apk search -v xxx
apk info -a xxx
apk info
echo -e &quot;http://mirrors.aliyun.com/alpine/v3.6/main\nhttp://mirrors.aliyun.com/alpine/v3.6/community&quot; &gt; /etc/apk/repositories
apk update

# storage
ibu # alpine local backup

# network
echo &quot;shortname&quot; &gt; /etc/hostname
hostname -F /etc/hostname
/etc/hosts
/etc/resolv.conf # conig DNS
modprobe ipv6 # enable ipv6
echo &quot;ipv6&quot; &gt;&gt; /etc/modules
iface # config interface
apk add iptables ip6tables iptables-doc
/etc/init.d/networking restart # activate change
apke add iputils # IPv6 traceroute
traceroute6 ipv6.google.com
awall # alpine wall
# setup a openvpn server

# post-install
/etc/apk/repositories
apk add cherokee --update-cache --repository http://dl-3.alpinelinux.org/alpine/edge/testing/ --allow-untrusted
apk search -v --description &#39;NTP&#39; # show description and search from description
apk info -a zlib
apk info -vv|sort
apk info -r -R # require / depency
apk version -v -l &#39;&lt;&#39; # show available updates
apk upgrade -U -a
apk add -u xxx # update xxx

/etc/runlevels # runlevel
apk add openrc # use openrc for init system
rc-update add xxx # set to start on
rc-service xxx start # equal -&gt; /etc/init.d/xxx start
rc-status

adduser xxx
passwd xxx

apk add ansible # server
ssh-keygen
/etc/ansible/hosts
apk add python # node
ssh-copy-id

apk add man man-pages mdocml-apropos less less-doc
export PAGER=less
/etc/rc.conf # /etc/rc.conf -&gt; funny character
apk add bash bash-doc bash-completion # bash
apk add util-linux pciutils usbutils coreutils binutils findutils grep # grep / awk
apk add build-base gcc abuild binutils binutils-doc gcc-doc # compile
apk add cmake cmake-doc extra-cmake-modules extra-cmake-modules-doc
apk add ccache ccache-doc

apk add docker # docker
rc-update add docker boot
rc-service docker start
apk add py-pip
pip install docker-compose
ln -s /usr/bin/docker-compose /usr/bin/doc

# application
apk add openssh # ssh
rc-update add sshd
/etc/init.d/sshd start
/etc/sshd_config
apk add dropbear # another openssh implementation</code></pre>
</div>
</body>
</html>