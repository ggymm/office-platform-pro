<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>fc.md.html</title>
  <style>code{white-space: pre;}</style>
</head>
<body>
<div id="wrapper">  
<h1 id="fc">fc</h1>
<p>显示历史列表中的命令或修改指定的历史命令并执行。</p>
<h2 id="概要">概要</h2>
<pre class="shell"><code>fc [-e ename] [-lnr] [first] [last]
fc -s [pat=rep] [command]</code></pre>
<h2 id="主要用途">主要用途</h2>
<ul>
<li><p>显示历史列表中的命令。</p></li>
<li><p>编辑并重新执行历史列表的命令。</p></li>
</ul>
<h2 id="选项">选项</h2>
<pre class="shell"><code>-e ename                  选择使用的编辑器，默认调用次序为环境变量`FCEDIT`、环境变量`EDITOR`、`vi`。
-l                        列出而不是编辑。
-n                        列出时不输出行号（需配合-l选项）。
-r                        倒序列出命令，最近执行的先列出（需配合-l选项）。
-s [pat=rep] [command]    command（未指定时为最后执行的命令）将在pat替换为rep后重新执行。</code></pre>
<h2 id="参数">参数</h2>
<p>first：可选；可以是字符串（以该字符串开头的最新命令）、数字（历史列表索引，负数代表当前命令号的偏移）；未指定时设置为前一个命令并且偏移量为-16（最近的16条命令）。</p>
<p>last：可选；可以是字符串（以该字符串开头的最新命令）、数字（历史列表索引，负数代表当前命令号的偏移）；未指定时设置为参数first。</p>
<h2 id="返回值">返回值</h2>
<p>返回成功或执行命令的状态，当错误出现时返回非0值。</p>
<h2 id="例子">例子</h2>
<p>替换命令参数:</p>
<pre class="shell"><code># 列出 ~ 目录
ls ~
# 替换 ~ 为 / ，替换后列出根目录， 
fc -s ~=/</code></pre>
<p>显示最近使用的10条历史命令：</p>
<pre class="shell"><code>[root@localhost ~]# fc -l -10
1039     type -a grep
1040     export
1041     history 10
1042     ulimit -a
1043     shopt
1044     help ls
1045     help env
1046     help short
1047     help shopt
1048     showkey -a</code></pre>
<p>编辑第1040条历史命令：</p>
<pre class="shell"><code>[root@localhost ~]# fc 1040</code></pre>
<h3 id="注意">注意</h3>
<ol type="1">
<li>关闭终端后，历史列表将被写入历史文件<code>~/.bash_history</code>。</li>
<li>环境变量<code>FCEDIT</code>的值为<code>fc</code>默认的编辑器。</li>
<li>该命令是bash内建命令，相关的帮助信息请查看<code>help</code>命令。</li>
</ol>
</div>
</body>
</html>